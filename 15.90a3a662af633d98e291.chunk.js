webpackJsonp([15],{1024:function(s,t,a){"use strict";var r=a(84),e=(a.n(r),a(579)),i=a(0),o=a(23);a.d(t,"a",(function(){return n}));var n=(function(){function s(s,t,e){this.router=s,this.toastr=t,this.authHttp=e,this.user=[{id:1,text:"Admin"},{id:2,text:"Pemerintah"},{id:3,text:"Penyuluh"},{id:4,text:"Petani "},{id:5,text:"Masyarakat"},{id:6,text:"Pedagang "}],this.baseUrl="172.17.5.242:5000",this.urlLogin=this.baseUrl+"/user/auth",this.urlGetDashboard=this.baseUrl+"/dashboard/get",this.urlGetKomoditas=this.baseUrl+"/komoditas/get",this.urlAddKomoditas=this.baseUrl+"/komoditas/add",this.urlUpdateKomoditas=this.baseUrl+"/komoditas/update",this.urlDeleteKomoditas=this.baseUrl+"/komoditas/delete",this.urlGetUser=this.baseUrl+"/user/get",this.urlGetUserRole=this.baseUrl+"/user/get/role/",this.urlAddUser=this.baseUrl+"/user/add",this.urlUpdateUser=this.baseUrl+"/user/update/admin",this.urlDeleteUser=this.baseUrl+"/user/delete",this.urlGetLaporanHarga=this.baseUrl+"/laporanHarga/get",this.urlGetLaporanHargaDay=this.baseUrl+"/laporanHarga/get/day/",this.urlAddLaporanHarga=this.baseUrl+"/laporanHarga/add",this.urlUpdateLaporanHarga=this.baseUrl+"/laporanHarga/update",this.urlDeleteLaporanHarga=this.baseUrl+"/laporanHarga/delete",this.urlGetLaporanHargaWeek=this.baseUrl+"/laporanHarga/getWeek",this.urlGetLaporanHargaMonth=this.baseUrl+"/laporanHarga/getMonth",this.urlGetProduksi=this.baseUrl+"/produksi/get/",this.urlAddProduksi=this.baseUrl+"/produksi/add",this.urlUpdateProduksi=this.baseUrl+"/produksi/update",this.urlDeleteProduksi=this.baseUrl+"/produksi/delete",this.urlGetAspirasi=this.baseUrl+"/aspirasi/get/",this.urlAddAspirasi=this.baseUrl+"/aspirasi/add",this.urlUpdateAspirasi=this.baseUrl+"/aspirasi/update",this.urlDeleteAspirasi=this.baseUrl+"/aspirasi/delete",this.urlGetTanggapanAspirasi=this.baseUrl+"/aspirasi/tanggapan/get/",this.urlAddTanggapanAspirasi=this.baseUrl+"/aspirasi/tanggapan/add",this.urlDeleteTanggapanAspirasi=this.baseUrl+"/aspirasi/tanggapan/delete",this.urlGetMateri=this.baseUrl+"/materi/get/",this.urlAddMateri=this.baseUrl+"/materi/add",this.urlUpdateMateri=this.baseUrl+"/materi/update",this.urlDeleteMateri=this.baseUrl+"/materi/delete",this.urlGetOperasiPasar=this.baseUrl+"/operasiPasar/get/",this.urlAddOperasiPasar=this.baseUrl+"/operasiPasar/add",this.urlUpdateOperasiPasar=this.baseUrl+"/operasiPasar/update",this.urlDeleteOperasiPasar=this.baseUrl+"/operasiPasar/delete",this.urlGetTanggapanOperasiPasar=this.baseUrl+"/operasiPasar/tanggapan/get/",this.urlAddTanggapanOperasiPasar=this.baseUrl+"/operasiPasar/tanggapan/add",this.urlDeleteTanggapanOperasiPasar=this.baseUrl+"/operasiPasar/tanggapan/delete",this.urlGetProv=this.baseUrl+"/lokasi/provinsi",this.urlGetKab=this.baseUrl+"/lokasi/kabupaten/",localStorage.getItem("id_token")&&(a.i(r.tokenNotExpired)()||(localStorage.clear(),this.router.navigate(["/"]),this.showMessageError("Session Expired")))}return s.prototype.getDataProvinsi=function(){return this.authHttp.get(this.urlGetProv).map((function(s){return s.json()}))},s.prototype.getDataKabupaten=function(s){return this.authHttp.get(this.urlGetKab+s.id).map((function(s){return s.json()}))},s.prototype.showMessage=function(s){this.toastr.success(s,"Berhasil!")},s.prototype.showMessageSuccess=function(s){this.toastr.success(s,"Berhasil!")},s.prototype.showMessageError=function(s){this.toastr.error(s,"Error!")},s=__decorate([a.i(i.Injectable)(),__metadata("design:paramtypes",[o.b,e.b,r.AuthHttp])],s)})()},1491:function(s,t,a){"use strict";var r=a(0),e=a(128),i=a(84),o=(a.n(i),a(23));a.d(t,"a",(function(){return n}));var n=(function(){function s(s,t,a){this.http=s,this.authHttp=t,this.router=a,this.jwtHelper=new i.JwtHelper,this.baseUrl="172.17.5.242:5000",this.urlUpdatePassword=this.baseUrl+"/user/setpassword/"}return s.prototype.CheckingToken=function(s){return this.jwtHelper.isTokenExpired(s)},s.prototype.UpdatePassword=function(s,t){this.token=this.jwtHelper.decodeToken(s);var a=this.token._id,r=this.token.kode;return this.authHttp.post(this.urlUpdatePassword,JSON.stringify({password:t,id:a,kode:r})).map((function(s){return s.json()}))},s=__decorate([a.i(r.Injectable)(),__metadata("design:paramtypes",[e.Http,i.AuthHttp,o.b])],s)})()},1493:function(s,t,a){"use strict";var r=a(0),e=a(55),i=a(23),o=a(283),n=(a.n(o),a(1491)),d=a(1024);a.d(t,"a",(function(){return l}));var l=(function(){function s(s,t,a,r,e){this._fb=s,this.route=t,this.router=a,this.SetPasswordService=r,this.DataService=e}return s.prototype.ngOnInit=function(){var s=this;this.route.params.subscribe((function(t){s.token=t.token})),this.SetPasswordService.CheckingToken(this.token)?(this.DataService.showMessageError("Token invalid"),this.router.navigate(["/admin"])):(this.setPasswordForm=this._fb.group({password:["",e.Validators.compose([e.Validators.required,e.Validators.minLength(4)])],repassword:["",e.Validators.compose([e.Validators.required,e.Validators.minLength(4)])]},{validator:this.MatchPassword}),this.password=this.setPasswordForm.controls.password,this.repassword=this.setPasswordForm.controls.repassword)},s.prototype.MatchPassword=function(s){if(s.get("password").value==s.get("repassword").value)return null;s.get("repassword").setErrors({MatchPassword:!0})},s.prototype.onSubmit=function(){var s=this;this.SetPasswordService.UpdatePassword(this.token,this.setPasswordForm.value.password).subscribe((function(t){200!=t.status?s.DataService.showMessageError(t.message):(s.DataService.showMessageSuccess(t.message),s.router.navigate(["/"]))}))},s=__decorate([a.i(r.Component)({selector:"setPassword",template:a(1574)}),__metadata("design:paramtypes",[e.FormBuilder,i.c,i.b,n.a,d.a])],s)})()},1533:function(s,t,a){"use strict";var r=a(23),e=a(1493);a.d(t,"a",(function(){return o}));var i=[{path:"",component:e.a}],o=r.a.forChild(i)},1574:function(s,t){s.exports='  <div class="row" style="width: 100">\n    <div class="col-sm-12 col-md-5 col-lg-3" style="padding: 50px">\n      <div class="row">\n          <img src="assets/img/digitalTani_logo_rectangle_700x250.png" width="100%" alt="">\n          <p align="center" style="color: #83935b">Setup Password Akun Baru Pemerintah</p>\n          <hr>\n      </div>\n      <form [formGroup]="setPasswordForm"  class="form-horizontal">\n        <div class="form-group row" [ngClass]="{\'has-error\': (!password.valid && password.touched), \'has-success\': (password.valid && password.touched)}">\n          <label for="inputUsername" class="control-label">Password</label>\n          <div class="col-sm-10">\n            <input type="password" class="form-control" id="inputEmail3" placeholder="Password"  formControlName="password">\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="{\'has-error\': (!repassword.valid && repassword.touched), \'has-success\': (repassword.valid && repassword.touched)}">\n          <label for="inputPassword" class="control-label">Re-Password</label>\n          <div class="col-sm-10">\n            <input \n              type="password" \n              class="form-control" \n              id="inputPassword" \n              placeholder="Password" \n              formControlName="repassword" \n              appCapslock>\n          </div>\n        </div>\n        <div class="form-group row">\n          <div class="offset-sm-2 col-sm-10">\n            <button [disabled]="!setPasswordForm.valid" type="submit" class="btn btn-success btn-block btn-raised btn-lg" (click)="onSubmit()">Simpan</button>\n          </div>\n        </div>\n      </form>\n    </div>\n    <div class="col-md-7 col-lg-9 hidden-sm" style="background-color: #aee06d; height: 100vh;">\n    </div>\n  </div>'},991:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),e=a(27),i=a(55),o=a(130),n=a(1493),d=a(1533),l=a(1491),u=a(1024);a.d(t,"SetPasswordModule",(function(){return p}));var p=(function(){function s(){}return s=__decorate([a.i(r.NgModule)({imports:[e.CommonModule,i.ReactiveFormsModule,i.FormsModule,o.a,d.a],declarations:[n.a],providers:[l.a,u.a]}),__metadata("design:paramtypes",[])],s)})()}});