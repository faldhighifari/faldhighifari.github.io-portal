webpackJsonp([16],{1492:function(t,o,e){"use strict";var a=e(0),s=e(55),r=e(128),n=e(84),i=(e.n(n),e(23)),l=e(579),c=e(283);e.n(c);e.d(o,"a",(function(){return d}));var d=(function(){function t(t,o,e,a){this.router=t,this.http=e,this.toastr=a,this.progress=!1,this.submitted=!1,this.jwtHelper=new n.JwtHelper,this.urlLogin="172.17.5.242:5000/user/auth",this.headers=new r.Headers({"Content-Type":"application/json"}),this.form=o.group({username:["",s.Validators.compose([s.Validators.required,s.Validators.minLength(4)])],password:["",s.Validators.compose([s.Validators.required,s.Validators.minLength(4)])]}),this.username=this.form.controls.username,this.password=this.form.controls.password}return t.prototype.authHttpFunction=function(t,o){var e=this,a=JSON.stringify({username:t.value,password:o.value,login_type:0});this.http.post(this.urlLogin,a,{headers:this.headers}).map((function(t){return t.json()})).subscribe((function(t){!0===t.success?(localStorage.setItem("id_token",t.token),e.checkRole()):e.showMessageError("Sign in Failed"),e.progress=!1}),(function(t){e.showMessageError("Gagal untuk masuk, silahkan coba kembali"),e.progress=!1}))},t.prototype.showMessageSuccess=function(t){this.toastr.success(t,"Success!")},t.prototype.showMessageError=function(t){this.toastr.error(t,"Error!")},t.prototype.checkRole=function(){this.decode=this.jwtHelper.decodeToken(localStorage.getItem("id_token")),this.role=this.decode.role,1===this.role?(this.router.navigate(["/admin"]),this.showMessageSuccess("Selamat datang di Portal Harga")):2===this.role?(this.router.navigate(["/gov"]),this.showMessageSuccess("Selamat datang di Portal Harga")):this.showMessageError("Anda tidak memilik akses")},t.prototype.onSubmit=function(){this.progress=!0,this.submitted=!0,this.form.valid&&this.authHttpFunction(this.username,this.password)},t.prototype.ngOnInit=function(){localStorage.getItem("id_token")&&this.checkRole()},t=__decorate([e.i(a.Component)({selector:"login",encapsulation:a.ViewEncapsulation.None,styles:[e(1557)],template:e(1573)}),__metadata("design:paramtypes",[i.b,s.FormBuilder,r.Http,l.b])],t)})()},1532:function(t,o,e){"use strict";var a=e(23),s=e(1492);e.d(o,"a",(function(){return n}));var r=[{path:"",component:s.a}],n=a.a.forChild(r)},1557:function(t,o){t.exports='.auth-main{display:flex;height:100%;width:100%;position:absolute;background-color:#aee06d;background-image:url("https://ph.yippytech.com/assets/icon/bg.png");background-size:contain}.form-control{color:black}.form-control:empty{background-color:#white}.auth-block{width:320px;border-radius:5px;background:rgba(255,255,255,0.55);color:#fff;padding:32px}.auth-block h1{font-weight:300}.auth-block p{font-weight:300;color:black;font-size:12px}.auth-block a{text-decoration:none;outline:none;transition:all 0.2s ease;color:#8bd22f}.auth-block a:hover{color:#76b328}.auth-block .control-label{padding-top:11px;color:black}.auth-block .form-group{margin-bottom:12px}.auth-input{width:300px;margin-bottom:24px}.auth-input input{display:block;width:100%;border:none;font-size:16px;padding:4px 10px;outline:none}.btn{font-weight:300}a.forgot-pass{display:block;text-align:right;margin-bottom:-20px;float:right;z-index:2;position:relative}.auth-link{display:block;font-size:16px;text-align:center;margin-bottom:33px}.auth-sep{margin-top:36px;margin-bottom:24px;line-height:20px;font-size:16px;text-align:center;display:block;position:relative}.auth-sep>span{display:table-cell;width:30%;white-space:nowrap;padding:0 24px;color:#fff}.auth-sep>span>span{margin-top:-12px;display:block}.auth-sep:before,.auth-sep:after{border-top:solid 1px #fff;content:"";height:1px;width:35%;display:table-cell}.al-share-auth{text-align:center}.al-share-auth .al-share{float:none;margin:0;padding:0;display:inline-block}.al-share-auth .al-share li{margin-left:24px}.al-share-auth .al-share li:first-child{margin-left:0}.al-share-auth .al-share li i{font-size:24px}.btn-auth{color:#fff !important}\n'},1573:function(t,o){t.exports='  <div class="row" style="width: 100">\n    <div class="col-sm-12 col-md-5 col-lg-3" style="padding: 50px">\n      <div class="row">\n          <img src="assets/img/digitalTani_logo_rectangle_700x250.png" width="100%" alt="">\n          <p align="center" style="color: #83935b">Pemerintah & Admin </p>\n          <hr>\n      </div>\n      <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal">\n\n        <div class="form-group row" [ngClass]="{\'has-error\': (!username.valid && username.touched), \'has-success\': (username.valid && username.touched)}">\n          <label class=" control-label">Username</label>\n          <input [formControl]="username" class="form-control" placeholder="Username">\n        </div>\n\n        <div class="form-group row" [ngClass]="{\'has-error\': (!password.valid && password.touched), \'has-success\': (password.valid && password.touched)}">\n          <label class=" control-label">Password</label>\n          <input [formControl]="password" type="password" class="form-control" placeholder="Password">\n        </div>\n\n        <div class="form-group row">\n            <button [disabled]="!form.valid" type="submit" class="btn btn-success btn-block btn-raised btn-lg"><i class="fa fa-spinner fa-spin" [hidden]="!progress" aria-hidden="true"></i> Sign in</button>\n        </div>\n\n        <hr>\n        <p align="center"> Portal Harga Â© 2017<br>Laboratorium SEIS ILKOM IPB</p>\n      </form>\n    </div>\n    <div class="col-md-7 col-lg-9 hidden-sm" style="background-color: #aee06d; height: 100vh;">\n      \n    </div>\n  </div>'},990:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e(0),s=e(27),r=e(55),n=e(130),i=e(1492),l=e(1532);e.d(o,"LoginModule",(function(){return c}));var c=(function(){function t(){}return t=__decorate([e.i(a.NgModule)({imports:[s.CommonModule,r.ReactiveFormsModule,r.FormsModule,n.a,l.a],declarations:[i.a]}),__metadata("design:paramtypes",[])],t)})()}});